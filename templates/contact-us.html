{% extends "base.html" %}

{% block content %}
<!-- breadcrumb area start -->
<div class="breadcrumb__section include-bg" data-background="static/img/breadcrumb/breadcrumb-bg-4.jpg">
   <div class="container">
      <div class="row">
         <div class="col-xxl-12">
            <div class="breadcrumb__content d-md-flex justify-content-between align-items-center">
               <h3 class="breadcrumb__title">Contact Us</h3>
               <div class="breadcrumb__list">
                  <span><a href="#">Home</a></span>
                  <span class="dvdr">/</span>
                  <span>Contact Us</span>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- breadcrumb area end -->


<div class="bd-contact__section pt-120 pb-90">
   <div class="container">
      <div class="row">
         <div class="col-lg-8">
            <div class="postbox__comment-form mb-30">
               <h3 class="postbox__comment-form-title">Reach Us</h3>
               <form id="contact-form" action="/contact-us" method="POST">
                  <div class="row">
                     <div class="col-xxl-12">
                        <div class="postbox__comment-input">
                           <input type="text" placeholder="Your Name" name="name" required>
                        </div>
                     </div>
                     <div class="col-xxl-6 col-xl-6 col-lg-6">
                        <div class="postbox__comment-input">
                           <input type="email" placeholder="Your Email" name="email" required>
                        </div>
                     </div>
                     <div class="col-xxl-6 col-cl-6 col-lg-6">
                        <div class="postbox__comment-input">
                           <input type="tel" placeholder="Your Mobile Number" name="mobile" pattern="\d{10}" maxlength="10" required>
                        </div>
                     </div>
                     <div class="col-xxl-12">
                        <div class="postbox__comment-input">
                           <textarea placeholder="Enter your Message ..." name="message" required></textarea>
                        </div>
                     </div>
                     <div class="col-xxl-12">
                        <div id="contact-message" class="mt-2"></div>
                        <div class="postbox__comment-btn">
                           <button type="submit" class="bd-btn">Submit</button>
                        </div>
                     </div>
                  </div>
               </form>
            </div>
         </div>
         <div class="col-lg-4">
            <div class="pt-inner-sidebar theme-bg mb-30">
               <div class="tp-pt__inmner-step mb-30">
                  <h4 class="custom-color">Address</h4>
                  <span>B 214, Orchard Road Mall, 
                     Royal Palms, Aarey Colony, 
                     Goregaon East, Mumbai 400065</span>
               </div>
               <div class="tp-pt__inmner-step mb-30">
                  <h4 class="custom-color">Call us</h4>
                  <span>+91-22-4971 0513</span>
               </div>
               <div class="tp-pt__inmner-step mb-30">
                  <h4 class="custom-color">Email us</h4>
                  <span>contact@988-p.com</span>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
{% endblock %}

{% block scripts %}
<script>
   document.addEventListener('DOMContentLoaded', function() {
      const contactForm = document.getElementById('contact-form');
      const contactMessage = document.getElementById('contact-message');

      if (contactForm) {
         contactForm.addEventListener('submit', async function(event) {
            event.preventDefault();

            const formData = new FormData(contactForm);

            try {
               const response = await fetch(contactForm.action, {
                  method: 'POST',
                  body: formData,
               });

               const result = await response.json();

               contactMessage.innerHTML = `<div class="alert alert-${result.status}">${result.message}</div>`;
               if (result.status === "success") {
                  contactForm.reset();
               }
               setTimeout(() => {
                  contactMessage.innerHTML = '';
               }, 10000); // Clear message after 10 seconds
            } catch (error) {
               contactMessage.innerHTML = `<div class="alert alert-danger">An unexpected error occurred. Please try again.</div>`;
               console.error('Error:', error);
               setTimeout(() => {
                  contactMessage.innerHTML = '';
               }, 10000); // Clear error message after 10 seconds
            }
         });
      }
   });
</script>
{% endblock %}